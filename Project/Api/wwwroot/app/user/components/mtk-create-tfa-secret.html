<div>
    <h2 class="margin-left-12"> Set up Two-Factor Authentication </h2>
    <p class="v-space-12"></p>
    <div ng-show="vm.step === 1">
        <div ng-show="!vm.isManualMode">
            <ul>
                <li>Get the Google Authenticator App from the <a href="https://itunes.apple.com/au/app/google-authenticator/id388497605?mt=8" target="_blank">App Store</a> or Android <a href="https://play.google.com/store/apps/details?id=com.google.android.apps.authenticator2" target="_blank">Play Store</a>.</li>
                <li>In the App, tap the <strong>Add</strong> button in the navigation bar.</li>
                <li>Choose <strong>Scan barcode</strong>.</li>
            </ul>
            <div class="text-center">
                <canvas id="qr"></canvas>
                <p><button class="btn btn-link" ng-click="vm.manualMode()">CAN'T SCAN IT?</button></p>
            </div>
        </div>
        <div ng-show="vm.isManualMode">
            <ol>
                <li>In the App, tap the <strong>Add button</strong> in the navigation bar.</li>
                <li>Choose <strong>Manual entry</strong>.</li>
                <li>Enter your email address and this key:
                    <div class="text-center" style="border: 1px dotted #ccc; margin: 10px 10px 10px 0; padding: 10px;">
                        <h3><strong>{{vm.displayTfaSecret()}}</strong></h3>
                        <div class="v-space-16"></div>
                        <div>space don't matter</div>
                    </div>
                </li>
                <li>Make sure that <strong>Time based</strong> is turned on, and tap <strong>Add</strong> to finish.</li>
            </ol>
        </div>
        <mtk-form>
            <div class="form-final-actions-container mgt-24" >
                <div class="btn-block">
                    <button class="btn btn-primary pull-right"
                            ng-click="vm.next()" type="submit">
                        <i class="icon-circle-arrow-right"></i> Next
                    </button>
                    <button class="btn btn-default pull-right mgr-6"
                            ng-click="vm.cancel()"
                            type="button">
                        <i class="icon icon-remove "></i>
                        Cancel
                    </button>
                </div>
            </div>
        </mtk-form>
    </div>
    <div ng-show="vm.step === 2">
        <mtk-form>
            <div>
                <p>Enter the 6-digit code that you see in the app</p>
            </div>
            <div class="v-space-32"></div>
            <mtk-form-row label="Enter code" ng-class="{'form-group-lg':true}">
                <mtk-input model="vm.verifyTotpCode" maxlength="6" mtk-autofocus="vm.verifyTotpCode" mtk-autofocus-enabled="true"></mtk-input>
                <div class="text-warning" ng-show="vm.errorMsg">
                    <i class="icon-alert-warn"></i>
                    {{vm.errorMsg}}
                </div>
            </mtk-form-row>
            <div class="v-space-32 clearfix"></div>
            <div class="form-final-actions-container mgt-24" >
                <div class="btn-block">
                    <button class="btn btn-primary pull-right"
                            ng-click="vm.verify()" type="submit">
                        <i class="icon-check"></i> Verify
                    </button>
                    <button class="btn btn-default pull-right mgr-6"
                            ng-click="vm.cancel()"
                            type="button">
                        <i class="icon icon-remove "></i>
                        Cancel
                    </button>
                </div>
            </div>
        </mtk-form>
    </div>
</div>