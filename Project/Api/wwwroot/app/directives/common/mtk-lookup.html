<span class="mtk-lookup">
    <span class="input-group">
        <input type="text" class="form-control" placeholder="{{placeholder}}"
               autocomplete="off"
               ng-model="search"
               ng-focus="init()"
               ng-change="edit()"
               ng-blur="cleanup(true)"
               ng-disabled="source.length == 0 || ngDisabled()"
               ng-keydown="keyboard($event)">
        <span class="input-group-btn">
            <button type="button" class="btn btn-light" tabindex="-1" ng-mousedown="cursorOnSearch()" ng-disabled="source.length == 0 || ngDisabled()">
                <i class="icon-caret-down"></i>
            </button>
        </span>
    </span>
    <div class="open" ng-if="showList == listType.filtered">
        <ul class="dropdown-menu filtered-list" ng-show="filtered.length > 0">
            <li ng-repeat="item in filtered "
                ng-class="{active: index == $index}"
                ng-mouseover="updateIndex($index)"
                ng-mousedown="selectHighlighted()">
                <a tabindex="-1" ng-bind-html="item.template"></a>
            </li>
        </ul>
        <ul class="dropdown-menu" ng-if="filtered.length == 0">
            <li><a href="" tabindex="-1" ng-hide="isShowNoMatch === false">No match...</a></li>
        </ul>
        <span class="lookup-spacer"></span>
    </div>
    <div class="open" ng-if="showList == listType.full">
        <ul class="dropdown-menu full-list">
            <li ng-repeat="item in source | limitTo: 50" ng-class="{active: index == $index}"
                ng-mouseover="updateIndex($index)"
                ng-mousedown="selectHighlighted()">
                <a tabindex="-1" ng-bind-html="item.template"></a>
            </li>
            <li class="dropdown-header" ng-if="source.length > 50">Only listing the first 50 items, search for more results...</li>
        </ul>
        <span class="lookup-spacer"></span>
    </div>
</span>